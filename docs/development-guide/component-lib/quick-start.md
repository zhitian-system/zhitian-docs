---
sidebar_position: 1
---

# 快速开始

本文介绍使用 ZTC 完成知天组件开发的方法。

## 环境准备

进入 NodeJS 官网，下载并安装 NodeJS，推荐 Node 版本为 12.0.0 及以上。

:::tip

如果您的系统已经安装过 Node，并且还需要持续使用，推荐安装 nvm 来进行 Node 版本管理。使用 nvm，您可以不用卸载之前的 Node，安装现版本 Node 时不会造成冲突，安装地址：GitHub - creationix/nvm: Node Version Manager - Simple bash script to manage multiple active node.js versions。
安装成功后，在命令行操作界面执行 node -v 和 npm -v 命令（Mac 在 terminal 中执行，Windows 在 cmd 中执行），查看 Node 和 npm 版本。

:::

## 安装开发工具包

执行以下命令安装套件（Mac 在 terminal 中执行，Windows 在 cmd 中执行）。

```bash
npm install --registry=http://39.98.250.155:17021/ @ztc/cli -g
```

安装成功后，执行 `ztc -v` 命令，查看开发工具版本。

## 用户登录

通过 `ztc login` 命令登录知天开发者控制台（Mac 在 terminal 中执行，Windows 在 cmd 中执行），执行后，需要输入以下信息。

| 组件库信息 | 说明               |
| ---------- | ------------------ |
| username   | 在知天平台的用户名 |
| password   | 在知天平台的密码   |

## 生成组件库

通过 `ztc init [project name]` 命令生成组件库（Mac 在 terminal 中执行，Windows 在 cmd 中执行），执行后，需要输入以下组件信息。

| 组件库信息          | 说明                               |
| ------------------- | ---------------------------------- |
| component lib name  | 组件库名，由字母、数字和短横线组成 |
| company name        | 公司名                             |
| project description | 项目说明                           |
| author              | 作者                               |

## 创建组件

通过 `ztc create` 命令创建组件（Mac 在 terminal 中执行，Windows 在 cmd 中执行），执行后，需要输入以下组件信息。

| 组件信息       | 说明                                 |
| -------------- | ------------------------------------ |
| component name | 组件名，由字母、数字和短横线组成     |
| component type | 组件类型，分为无状态组件和有状态组件 |

## 预览调试组件

您可以通过以下命令预览组件（Mac 在 terminal 中执行，Windows 在 cmd 中执行）。

```bash
cd 您的组件名
yarn dev
```

当命令行显示服务启动时，说明预览组件的服务已经启动，Chrome 浏览器会被自动打开，并导航到组件预览页。

:::tip

说明
如果浏览器没有自动打开，可能是您未安装 Chrome 浏览器。

建议安装 Chrome，完成后用 Chrome 浏览器自动打开 localhost:9000/。

如果您看到端口占用冲突，可能是您的 9000 端口被别的应用程序占用了，可以使用 `ztc dev -p 9001` 命令来指定使用 9001 端口开启预览服务。

如果浏览器打开 localhost:9000/，显示并没有此服务，可能是您的电脑并未配置 hosts localhost 指向 127.0.0.1，可以在 Chrome 浏览器中访问 127.0.0.1:9000/来预览组件。

:::

组件预览成功后的效果如下图所示。

// TODO

预览页主要分为中心画布区，底部工具栏和右侧工具栏三部分，详细介绍如下：

- 中心画布区

  - 中心画布区是用来展现组件，实时观测组件变化的区域。
  - 所有右侧工具栏的配置、数据修改都会实时展示在中心画布的组件上。
  - 组件的白框代表了组件的容器范围大小，每个方向上的白框都可以缩放来测试组件在任意方向缩放的表现。

- 底部工具栏

  - 可以切换组件的语言环境。

- 右侧工具栏
  - 右侧工具栏分为样式、数据、交互和发布 4 个面板。

| 面板 | 说明                                                                                                                                                                                                               |
| ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 样式 | 样式页面描述了组件可变动的一些配置项，如果在配置操作，改动会立即生效。例如在此页面拖拽字号滑动条，组件中的文字字号立即随之变化。单击右上的保存，可以保存当前修改的配置，并将当前配置作为此组件的默认配置。配置面板 |
| 数据 | 数据页面描述了组件的数据接口配置，数据页的数据一旦改动，组件都会进行相应的改动。单击右上的保存，可以保存当前修改的数据，并将当前数据作为此组件的默认数据。件                                                       |
| 交互 | 交互页面描述了组件的交互说明。                                                                                                                                                                                     |
| 发布 | 发布页面描述了组件的类型、图标和发布版本等配置，单击右上角的发布，即可发布组件。发布面板                                                                                                                           |

## 发布组件

您可通过以下三种方式发布组件：

- 方式一（推荐）

  进入组件的目录地址下，执行 `ztc publish` 命令，组件将自动打包压缩发布至账号所在域的服务器。

- 方式二

  进入组件的目录地址下，执行 `ztc package` 命令，在组件目录外会有一个以组件-版本号命名的 tar.gz 压缩包，将此压缩包上传到知天平台的组件库，即可发布。

- 方法三

  进入预览组件页面下的发布页面，单击发布，即可发布组件。
